<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" height="1101" viewBox="0 0 1404 1101" width="1404"><defs/><g transform="translate(-1094.52,-114.83)"><g id="shape1" transform="translate(1379.519685,115.833333)"><path fill-rule="nonzero" fill="#ffffff" d="M.0,.0L480.0,.0L480.0,275.0L.0,275.0L.0,.0zM.0,40.0L480.0,40.0L.0,40.0zM.0,155.0L480.0,155.0L.0,155.0z"/><path stroke="#101843" stroke-width="1" fill="none" d="M.0,.0L480.0,.0L480.0,275.0L.0,275.0L.0,.0zM.0,40.0L480.0,40.0L.0,40.0zM.0,155.0L480.0,155.0L.0,155.0z"/><text style="fill:#191919;font-family:微软雅黑;font-size:11.00pt" xml:space="preserve"><tspan x="165.0" y="26.0">FlightModeManager</tspan></text><text style="fill:#191919;font-family:微软雅黑;font-size:11.00pt" xml:space="preserve"><tspan x="4.0" y="73.5">struct flight_task_t {</tspan><tspan x="4.0" y="93.5">        FlightTask     *task{nullptr};</tspan><tspan x="4.0" y="113.5">        FlightTaskIndex index{FlightTaskIndex::None};</tspan><tspan x="4.0" y="133.5">    } _current_task{};</tspan></text><text style="fill:#191919;font-family:微软雅黑;font-size:11.00pt" xml:space="preserve"><tspan x="4.0" y="181.0">+   start_flight_task()</tspan><tspan x="4.0" y="201.0">+   switchTask(FlightTaskIndex new_task_index) : return </tspan><tspan x="4.0" y="221.0">FlightTaskError</tspan><tspan x="4.0" y="241.0">+   generateTrajectorySetpoint() : void</tspan><tspan x="4.0" y="261.0">-    Operation C() : void</tspan></text></g><g id="shape2" transform="translate(1379.519685,439.000000)"><path fill-rule="nonzero" fill="#ffffff" d="M.0,.0L480.0,.0L480.0,360.0L.0,360.0L.0,.0zM.0,40.0L480.0,40.0L.0,40.0zM.0,260.0L480.0,260.0L.0,260.0z"/><path stroke="#101843" stroke-width="1" fill="none" d="M.0,.0L480.0,.0L480.0,360.0L.0,360.0L.0,.0zM.0,40.0L480.0,40.0L.0,40.0zM.0,260.0L480.0,260.0L.0,260.0z"/><text style="fill:#191919;font-family:微软雅黑;font-size:11.00pt" xml:space="preserve"><tspan x="203.5" y="26.0">FlightTask</tspan></text><text style="fill:#191919;font-family:微软雅黑;font-size:11.00pt" xml:space="preserve"><tspan x="4.0" y="66.0">+   matrix::Vector3f _position</tspan><tspan x="4.0" y="86.0">+   matrix::Vector3f _velocity</tspan><tspan x="4.0" y="106.0">-    float _yaw{}</tspan><tspan x="4.0" y="126.0">+   matrix::Vector3f _position_setpoint;</tspan><tspan x="4.0" y="146.0">+   matrix::Vector3f _velocity_setpoint;</tspan><tspan x="4.0" y="166.0">+   matrix::Vector3f _acceleration_setpoint;</tspan><tspan x="4.0" y="186.0">+   matrix::Vector3f _jerk_setpoint;</tspan><tspan x="4.0" y="226.0">+   float _yaw_setpoint{};</tspan><tspan x="4.0" y="246.0">+   float _yawspeed_setpoint{};</tspan></text><text style="fill:#191919;font-family:微软雅黑;font-size:11.00pt" xml:space="preserve"><tspan x="4.0" y="286.0">+   virtual bool activate() : return</tspan><tspan x="4.0" y="306.0">+   virtual bool updateInitialize() : void</tspan><tspan x="4.0" y="326.0">-    virtual bool update() : void</tspan><tspan x="4.0" y="346.0">+   virtual bool updateFinalize()</tspan></text></g><g id="shape3" transform="translate(1859.519685,213.333333)"><path stroke="#191919" stroke-width="1" fill="none" d="M.0,.0C20.3,.3,40.6,.6,47.0,33.7C53.3,66.7,45.7,132.6,24.0,170.1C3.3,205.7,-30.2,215.7,-64.3,224.3"/><path stroke-linecap="round" stroke="#191919" stroke-width="1" fill="#191919" d="M-63.0,227.1L-69.6,225.7L-64.5,221.3L-63.0,227.1"/></g><g id="shape4" transform="translate(1206.519685,883.500000)"><path fill-rule="nonzero" fill="#ffffff" d="M.0,.0L146.0,.0L146.0,80.0L.0,80.0L.0,.0zM.0,40.0L146.0,40.0L.0,40.0z"/><path stroke="#101843" stroke-width="1" fill="none" d="M.0,.0L146.0,.0L146.0,80.0L.0,80.0L.0,.0zM.0,40.0L146.0,40.0L.0,40.0z"/><text style="fill:#191919;font-family:微软雅黑;font-size:11.00pt" xml:space="preserve"><tspan x="18.5" y="26.0">FlightTaskAuto</tspan></text></g><g id="shape5" transform="translate(1620.891045,799.000000)"><path stroke="#191919" stroke-width="1" fill="none" d="M.0,.0L-330.9,82.0"/><path stroke-linecap="round" stroke-linejoin="round" stroke="#191919" stroke-width="1" fill="none" d="M-341.0,84.5L-329.4,87.8L-332.3,76.2L-341.0,84.5"/></g><g id="shape6" transform="translate(1631.519685,880.000000)"><path fill-rule="nonzero" fill="#ffffff" d="M.0,.0L146.0,.0L146.0,80.0L.0,80.0L.0,.0zM.0,40.0L146.0,40.0L.0,40.0z"/><path stroke="#101843" stroke-width="1" fill="none" d="M.0,.0L146.0,.0L146.0,80.0L.0,80.0L.0,.0zM.0,40.0L146.0,40.0L.0,40.0z"/><text style="fill:#191919;font-family:微软雅黑;font-size:11.00pt" xml:space="preserve"><tspan x="5.0" y="26.0">FlightTaskDescend</tspan></text></g><g id="shape7" transform="translate(1819.519685,876.700000)"><path fill-rule="nonzero" fill="#ffffff" d="M.0,.0L194.0,.0L194.0,80.0L.0,80.0L.0,.0zM.0,40.0L194.0,40.0L.0,40.0z"/><path stroke="#101843" stroke-width="1" fill="none" d="M.0,.0L194.0,.0L194.0,80.0L.0,80.0L.0,.0zM.0,40.0L194.0,40.0L.0,40.0z"/><text style="fill:#191919;font-family:微软雅黑;font-size:11.00pt" xml:space="preserve"><tspan x="4.5" y="26.0">FlightTaskManualAltitude</tspan></text></g><g id="shape8" transform="translate(1410.519685,883.500000)"><path fill-rule="nonzero" fill="#ffffff" d="M.0,.0L157.0,.0L157.0,80.0L.0,80.0L.0,.0zM.0,40.0L157.0,40.0L.0,40.0z"/><path stroke="#101843" stroke-width="1" fill="none" d="M.0,.0L157.0,.0L157.0,80.0L.0,80.0L.0,.0zM.0,40.0L157.0,40.0L.0,40.0z"/><text style="fill:#191919;font-family:微软雅黑;font-size:11.00pt" xml:space="preserve"><tspan x="6.0" y="26.0">FlightTaskTransition</tspan></text></g><g id="shape9" transform="translate(2080.519685,883.500000)"><path fill-rule="nonzero" fill="#ffffff" d="M.0,.0L146.0,.0L146.0,80.0L.0,80.0L.0,.0zM.0,40.0L146.0,40.0L.0,40.0z"/><path stroke="#101843" stroke-width="1" fill="none" d="M.0,.0L146.0,.0L146.0,80.0L.0,80.0L.0,.0zM.0,40.0L146.0,40.0L.0,40.0z"/><text style="fill:#191919;font-family:微软雅黑;font-size:11.00pt" xml:space="preserve"><tspan x="10.0" y="26.0">FlightTaskFailsafe</tspan></text></g><g id="shape10" transform="translate(1620.891045,799.000000)"><path stroke="#191919" stroke-width="1" fill="none" d="M.0,.0L-122.7,78.9"/><path stroke-linecap="round" stroke-linejoin="round" stroke="#191919" stroke-width="1" fill="none" d="M-131.4,84.5L-119.4,83.9L-125.9,73.8L-131.4,84.5"/></g><g id="shape11" transform="translate(1620.891045,799.000000)"><path stroke="#191919" stroke-width="1" fill="none" d="M.0,.0L76.6,73.8"/><path stroke-linecap="round" stroke-linejoin="round" stroke="#191919" stroke-width="1" fill="none" d="M84.0,81.0L80.7,69.5L72.4,78.1L84.0,81.0"/></g><g id="shape12" transform="translate(1620.891045,799.000000)"><path stroke="#191919" stroke-width="1" fill="none" d="M.0,.0L286.1,75.1"/><path stroke-linecap="round" stroke-linejoin="round" stroke="#191919" stroke-width="1" fill="none" d="M296.2,77.7L287.7,69.3L284.6,80.9L296.2,77.7"/></g><g id="shape13" transform="translate(1620.891045,799.000000)"><path stroke="#191919" stroke-width="1" fill="none" d="M.0,.0L522.8,82.9"/><path stroke-linecap="round" stroke-linejoin="round" stroke="#191919" stroke-width="1" fill="none" d="M533.0,84.5L523.7,76.9L521.8,88.8L533.0,84.5"/></g><g id="shape14" transform="translate(1095.519685,1004.000000)"><path fill-rule="nonzero" fill="#ffffff" d="M.0,.0L189.0,.0L189.0,80.0L.0,80.0L.0,.0zM.0,40.0L189.0,40.0L.0,40.0z"/><path stroke="#101843" stroke-width="1" fill="none" d="M.0,.0L189.0,.0L189.0,80.0L.0,80.0L.0,.0zM.0,40.0L189.0,40.0L.0,40.0z"/><text style="fill:#191919;font-family:微软雅黑;font-size:11.00pt" xml:space="preserve"><tspan x="4.0" y="26.0">FlightTaskAutoFollowMe</tspan></text></g><g id="shape15" transform="translate(1317.519685,1004.000000)"><path fill-rule="nonzero" fill="#ffffff" d="M.0,.0L189.0,.0L189.0,80.0L.0,80.0L.0,.0zM.0,40.0L189.0,40.0L.0,40.0z"/><path stroke="#101843" stroke-width="1" fill="none" d="M.0,.0L189.0,.0L189.0,80.0L.0,80.0L.0,.0zM.0,40.0L189.0,40.0L.0,40.0z"/><text style="fill:#191919;font-family:微软雅黑;font-size:11.00pt" xml:space="preserve"><tspan x="11.0" y="26.0">FlightTaskAutoMapper</tspan></text></g><g id="shape16" transform="translate(1294.019685,1124.500000)"><path fill-rule="nonzero" fill="#ffffff" d="M.0,.0L236.0,.0L236.0,80.0L.0,80.0L.0,.0zM.0,40.0L236.0,40.0L.0,40.0z"/><path stroke="#101843" stroke-width="1" fill="none" d="M.0,.0L236.0,.0L236.0,80.0L.0,80.0L.0,.0zM.0,40.0L236.0,40.0L.0,40.0z"/><text style="fill:#191919;font-family:微软雅黑;font-size:11.00pt" xml:space="preserve"><tspan x="8.0" y="26.0">FlightTaskAutoLineSmoothVel</tspan></text></g><g id="shape17" transform="translate(1764.769685,1004.000000)"><path fill-rule="nonzero" fill="#ffffff" d="M.0,.0L275.5,.0L275.5,80.0L.0,80.0L.0,.0zM.0,40.0L275.5,40.0L.0,40.0z"/><path stroke="#101843" stroke-width="1" fill="none" d="M.0,.0L275.5,.0L275.5,80.0L.0,80.0L.0,.0zM.0,40.0L275.5,40.0L.0,40.0z"/><text style="fill:#191919;font-family:微软雅黑;font-size:11.00pt" xml:space="preserve"><tspan x="4.8" y="26.0">FlightTaskManualAltitudeSmoothVel</tspan></text></g><g id="shape18" transform="translate(1647.269685,1134.500000)"><path fill-rule="nonzero" fill="#ffffff" d="M.0,.0L241.0,.0L241.0,80.0L.0,80.0L.0,.0zM.0,40.0L241.0,40.0L.0,40.0z"/><path stroke="#101843" stroke-width="1" fill="none" d="M.0,.0L241.0,.0L241.0,80.0L.0,80.0L.0,.0zM.0,40.0L241.0,40.0L.0,40.0z"/><text style="fill:#191919;font-family:微软雅黑;font-size:11.00pt" xml:space="preserve"><tspan x="11.5" y="26.0">FlightTaskManualAcceleration</tspan></text></g><g id="shape19" transform="translate(1934.769685,1134.500000)"><path fill-rule="nonzero" fill="#ffffff" d="M.0,.0L241.0,.0L241.0,80.0L.0,80.0L.0,.0zM.0,40.0L241.0,40.0L.0,40.0z"/><path stroke="#101843" stroke-width="1" fill="none" d="M.0,.0L241.0,.0L241.0,80.0L.0,80.0L.0,.0zM.0,40.0L241.0,40.0L.0,40.0z"/><text style="fill:#191919;font-family:微软雅黑;font-size:11.00pt" xml:space="preserve"><tspan x="65.0" y="26.0">FlightTaskOrbit</tspan></text></g><g id="shape20" transform="translate(2124.519685,1004.000000)"><path fill-rule="nonzero" fill="#ffffff" d="M.0,.0L241.0,.0L241.0,80.0L.0,80.0L.0,.0zM.0,40.0L241.0,40.0L.0,40.0z"/><path stroke="#101843" stroke-width="1" fill="none" d="M.0,.0L241.0,.0L241.0,80.0L.0,80.0L.0,.0zM.0,40.0L241.0,40.0L.0,40.0z"/><text style="fill:#191919;font-family:微软雅黑;font-size:11.00pt" xml:space="preserve"><tspan x="28.0" y="26.0">FlightTaskManualPosition</tspan></text></g><g id="shape21" transform="translate(2222.269685,1134.500000)"><path fill-rule="nonzero" fill="#ffffff" d="M.0,.0L275.0,.0L275.0,80.0L.0,80.0L.0,.0zM.0,40.0L275.0,40.0L.0,40.0z"/><path stroke="#101843" stroke-width="1" fill="none" d="M.0,.0L275.0,.0L275.0,80.0L.0,80.0L.0,.0zM.0,40.0L275.0,40.0L.0,40.0z"/><text style="fill:#191919;font-family:微软雅黑;font-size:11.00pt" xml:space="preserve"><tspan x="4.5" y="26.0">FlightTaskManualPositionSmoothVel</tspan></text></g><g id="shape22" transform="translate(1279.936807,963.500000)"><path stroke="#191919" stroke-width="1" fill="none" d="M.0,.0L-79.9,36.2"/><path stroke-linecap="round" stroke-linejoin="round" stroke="#191919" stroke-width="1" fill="none" d="M-89.4,40.5L-77.4,41.7L-82.4,30.7L-89.4,40.5"/></g><g id="shape23" transform="translate(1279.936807,963.500000)"><path stroke="#191919" stroke-width="1" fill="none" d="M.0,.0L122.7,37.5"/><path stroke-linecap="round" stroke-linejoin="round" stroke="#191919" stroke-width="1" fill="none" d="M132.6,40.5L124.4,31.7L120.9,43.2L132.6,40.5"/></g><g id="shape24" transform="translate(1412.559658,1084.000000)"><path stroke="#191919" stroke-width="1" fill="none" d="M.0,.0L.1,30.1"/><path stroke-linecap="round" stroke-linejoin="round" stroke="#191919" stroke-width="1" fill="none" d="M.1,40.5L6.1,30.1L-5.9,30.1L.1,40.5"/></g><g id="shape25" transform="translate(1916.519685,956.700000)"><path stroke="#191919" stroke-width="1" fill="none" d="M.0,.0L-11.1,37.3"/><path stroke-linecap="round" stroke-linejoin="round" stroke="#191919" stroke-width="1" fill="none" d="M-14.0,47.3L-5.3,39.0L-16.8,35.6L-14.0,47.3"/></g><g id="shape26" transform="translate(1903.306789,1084.000000)"><path stroke="#191919" stroke-width="1" fill="none" d="M.0,.0L-125.1,46.9"/><path stroke-linecap="round" stroke-linejoin="round" stroke="#191919" stroke-width="1" fill="none" d="M-134.8,50.5L-123.0,52.5L-127.2,41.2L-134.8,50.5"/></g><g id="shape27" transform="translate(1903.306789,1084.000000)"><path stroke="#191919" stroke-width="1" fill="none" d="M.0,.0L142.8,47.2"/><path stroke-linecap="round" stroke-linejoin="round" stroke="#191919" stroke-width="1" fill="none" d="M152.7,50.5L144.7,41.5L140.9,52.9L152.7,50.5"/></g><g id="shape28" transform="translate(1917.073943,956.700000)"><path stroke="#191919" stroke-width="1" fill="none" d="M.0,.0L318.3,45.8"/><path stroke-linecap="round" stroke-linejoin="round" stroke="#191919" stroke-width="1" fill="none" d="M328.6,47.3L319.2,39.9L317.5,51.8L328.6,47.3"/></g><g id="shape29" transform="translate(2245.708222,1084.000000)"><path stroke="#191919" stroke-width="1" fill="none" d="M.0,.0L105.3,46.3"/><path stroke-linecap="round" stroke-linejoin="round" stroke="#191919" stroke-width="1" fill="none" d="M114.8,50.5L107.7,40.8L102.9,51.8L114.8,50.5"/></g></g></svg>